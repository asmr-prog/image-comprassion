<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Fast and responsive image compressor tool allowing users to set custom quality levels and instantly preview results." />
  <title>Responsive Image Compressor</title>
  <style>
    *{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;}
    body{margin:0;padding:0;background:#f5f5f5;color:#333;}
    header{background:#007bff;color:white;text-align:center;padding:20px 10px;}
    main{max-width:900px;margin:30px auto;padding:20px;background:#fff;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,0.1);}
    .uploader{border:2px dashed #007bff;border-radius:10px;padding:30px;text-align:center;cursor:pointer;transition:0.3s;}
    .uploader:hover{background:#eef5ff;}
    #preview{display:flex;flex-wrap:wrap;gap:20px;justify-content:center;margin-top:20px;}
    .img-card{background:#fafafa;border-radius:10px;box-shadow:0 2px 5px rgba(0,0,0,0.1);padding:10px;text-align:center;}
    .img-card img{max-width:200px;border-radius:8px;display:block;margin:auto;}
    .controls{margin-top:20px;text-align:center;}
    input[type=range]{width:80%;max-width:400px;}
    .adsense{margin:20px auto;text-align:center;background:#f0f0f0;padding:10px;border-radius:8px;min-height:90px;}
    button{background:#007bff;color:white;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;transition:0.3s;}
    button:hover{background:#0056b3;}
    @media(max-width:600px){.img-card img{max-width:100px;}}
  </style>
</head>
<body>
  <header>
    <h1>Responsive Image Compressor</h1>
  </header>
  <main>
    <div class="adsense">Advertisement Space (Google AdSense)</div>
    <div class="uploader" id="drop-area">
      <p>Click or Drag & Drop Images Here</p>
      <input type="file" id="fileElem" accept="image/*" multiple style="display:none;" />
    </div>
    <div class="controls">
      <label for="quality">Compression Quality (0.1 - 1.0): </label>
      <input type="range" id="quality" min="0.1" max="1" step="0.1" value="1">
      <span id="qVal">1.0</span>
      <br /><br />
      <button id="compressBtn">Compress Images</button>
    </div>
    <div id="preview"></div>
    <div class="adsense">Advertisement Space (Google AdSense)</div>
  </main>

  <script>
    const fileElem = document.getElementById('fileElem');
    const dropArea = document.getElementById('drop-area');
    const preview = document.getElementById('preview');
    const qualityInput = document.getElementById('quality');
    const qVal = document.getElementById('qVal');
    const compressBtn = document.getElementById('compressBtn');
    let images = [];

    qualityInput.addEventListener('input', () => {
      qVal.textContent = qualityInput.value;
    });

    dropArea.addEventListener('click', ()=> fileElem.click());
    fileElem.addEventListener('change', handleFiles);

    dropArea.addEventListener('dragover', e => {
      e.preventDefault();
      dropArea.style.background='#eef5ff';
    });

    dropArea.addEventListener('dragleave', e => {
      e.preventDefault();
      dropArea.style.background='';
    });

    dropArea.addEventListener('drop', e => {
      e.preventDefault();
      dropArea.style.background='';
      handleFiles({ target:{ files:e.dataTransfer.files }});
    });

    function handleFiles(event){
      const files = event.target.files;
      preview.innerHTML='';
      images = [];
      for(let file of files){
        if(!file.type.startsWith('image/')) continue;
        const reader = new FileReader();
        reader.onload = e => {
          const img = document.createElement('img');
          img.src = e.target.result;
          const div = document.createElement('div');
          div.className='img-card';
          div.appendChild(img);
          preview.appendChild(div);
          images.push({file, imgEl:img});
        }
        reader.readAsDataURL(file);
      }
    }

    compressBtn.addEventListener('click', ()=>{
      const quality = parseFloat(qualityInput.value);
      if(images.length === 0){
        alert('Please upload images first!');
        return;
      }
      preview.innerHTML='';
      images.forEach(({file})=>{
        const reader = new FileReader();
        reader.onload = e => {
          const img = new Image();
          img.onload = ()=>{
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = img.width;
            canvas.height = img.height;
            ctx.drawImage(img,0,0);
            const compressedData = canvas.toDataURL('image/jpeg', quality);
            const outImg = new Image();
            outImg.src = compressedData;
            const div = document.createElement('div');
            div.className='img-card';
            div.innerHTML = `<p>${file.name}</p>`;
            div.appendChild(outImg);
            const downloadBtn = document.createElement('a');
            downloadBtn.href = compressedData;
            downloadBtn.download = 'compressed_'+file.name;
            downloadBtn.textContent = 'Download';
            downloadBtn.style.display='block';
            downloadBtn.style.marginTop='10px';
            div.appendChild(downloadBtn);
            preview.appendChild(div);
          }
          img.src = e.target.result;
        }
        reader.readAsDataURL(file);
      });
    });
  </script>
</body>
</html>
